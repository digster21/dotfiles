
# Helpful tmux resource
# https://github.com/rothgar/awesome-tmux

# =============================================================================
# GENERAL SETTINGS
# =============================================================================

set -g default-terminal "tmux-256color"
set -g history-limit 10000
set -g mouse on
set -g escape-time 0
set -g base-index 1
set -g pane-base-index 1

# Use VIM style copy mode 
setw -g mode-key vi


# =============================================================================
# PREFIX SETTINGS
# =============================================================================

# Remap prefix to C-a, eaiser to type 
unbind C-b
set -g prefix C-a
bind C-a send-prefix # for nested apps using same binding - double press

# =============================================================================
# RELOAD CONFIG
# =============================================================================

# Reload config file (r is also bound to redraw - intentional choice) 
bind R source-file ~/.tmux.conf \; display-message "Config Reloaded!"

# =============================================================================
# PANE NAVIGATION
# =============================================================================

# Nav panes like vim (default: arrow keys)
bind h select-pane -L # Left 
bind j select-pane -D # Down
bind k select-pane -U # Up
bind l select-pane -R # Right

# =============================================================================
# PANE MANAGMENT
# ============================================================================= 
 
# Vertical split (default: ")
# Horizontal split (default: %)

# =============================================================================
# WINDOW NAVIGATION
# ============================================================================= 
 
# Previous window (default: p)
# Next window (default: n)
# last window (default: l)

# =============================================================================
# WINDOW MANAGEMENT
# =============================================================================

bind c new-window -c "#{pane_current_path}"  # New window (default: c)

set -g automatic-rename on
set -g allow-rename on

# Prompt to rename window right after it's created
set-hook -g after-new-window 'command-prompt -I "#{window_name}" "rename-window '%%'"'

#bind C-r command-prompt -I "#{window_name}" "rename-window '%%'"   # (default: ,)
bind C-R command-prompt -I "#{session_name}" "rename-session '%%'"

# =============================================================================
# PLUGINS
# =============================================================================

# Setup Tmux plugin manager (TPM) [https://github.com/tmux-plugins/tpm]
set -g @plugin 'tmux-plugins/tpm'
# https://github.com/tmux-plugins/tmux-battery
set -g @plugin 'tmux-plugins/tmux-battery'
# https://github.com/tmux-plugins/tmux-cpu
set -g @plugin 'tmux-plugins/tmux-cpu'
# https://github.com/catppuccin/tmux
set -g @plugin 'catppuccin/tmux#v2.1.3'

# =============================================================================
# THEME
# =============================================================================

# Show the status bar
set -g status on
# Update the status bar every n seconds
set -g status-interval 5

# Ensure status bar is clean
set -g status-left ""
set -g status-right ""

# Make the status line pretty and add some modules

set -g @catppuccin_flavor 'mocha'

set -g status-right-length 100
set -g status-left-length 100
set -g status-left ""
set -g status-right "#{E:@catppuccin_status_application}"
set -agF status-right "#{E:@catppuccin_status_cpu}"
set -ag status-right "#{E:@catppuccin_status_session}"
set -ag status-right "#{E:@catppuccin_status_uptime}"
set -agF status-right "#{E:@catppuccin_status_battery}"

# =============================================================================
# Init TPM (keep at bottom of conf)
# =============================================================================

run '~/.tmux/plugins/tpm/tpm'




